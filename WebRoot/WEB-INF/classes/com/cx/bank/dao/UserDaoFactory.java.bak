package com.cx.bank.dao;

import java.io.File;
import java.util.Properties;

import javax.imageio.stream.FileImageInputStream;

public class UserDaoFactory {
	private UserDaoFactory instance;
	private BankDaoInterface userDao;
	private UserDaoFactory()throws Exception{
		Properties p = new Properties();
		FileNameInputStream fis = new FileNameInputStream(new File("classInfo.properties"));
		p.load(fis);
		fis.close();
		String classNameString = p.getProperty("className");
		Class c = Class.forName(className);
		Object o = c.newInstance();
		UserDaoFactory = (BankDaoInterface)o;
		
	}
	public static synchronized UserDaoFactory getInstance()throws Exception{
		if (instance == null) {
			instance = new UserDaoFactory();
		}
		return instance;
	}
	public BankDaoInterface createUserDao() {
		return UserDao;
	}

}
